
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>arXiv Paper Dependency Graph - 2211.11689</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 20px; background: #f8f9fa; color: #333; }
        .header { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h1 { margin: 0 0 10px 0; }
        .stats { display: flex; gap: 20px; flex-wrap: wrap; margin-top: 15px; }
        .stat { background: #e9ecef; padding: 8px 12px; border-radius: 4px; font-size: 14px; }
        .graph-container { background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); overflow: hidden; }
        .controls { padding: 15px; background: #f8f9fa; border-bottom: 1px solid #dee2e6; display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
        .controls button { padding: 6px 12px; border: 1px solid #dee2e6; background: white; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background-color 0.2s; }
        .controls button:hover { background: #e9ecef; }
        .legend { display: flex; gap: 15px; align-items: center; flex-wrap: wrap; margin-left: auto; }
        .legend-item { display: flex; align-items: center; gap: 5px; font-size: 12px; }
        .legend-color { width: 12px; height: 12px; border-radius: 50%; }
        #graph { width: 100%; height: 65vh; cursor: grab; }
        #graph:active { cursor: grabbing; }
        .node { stroke: #fff; stroke-width: 2px; cursor: pointer; }
        .node:hover { stroke: #000; }
        .link { stroke: #999; stroke-opacity: 0.6; stroke-width: 1.5px; transition: stroke-width 0.2s, stroke-opacity 0.2s; cursor: pointer; marker-end: url(#arrowhead); }
        .link:hover { stroke-width: 4px; stroke-opacity: 1; }
        .node-label { font-size: 12px; fill: #333; text-anchor: middle; pointer-events: none; font-weight: 500; }
        .tooltip { position: absolute; background: rgba(0, 0, 0, 0.85); color: white; padding: 10px; border-radius: 4px; font-size: 13px; pointer-events: none; max-width: 350px; z-index: 1000; line-height: 1.5; }
        .tooltip h4 { margin: 0 0 8px 0; font-size: 15px; border-bottom: 1px solid #555; padding-bottom: 5px; }
        .tooltip p { margin: 4px 0; }
        .tooltip .id-label { color: #aaa; font-family: monospace; font-size: 11px; }
        .tooltip .edge-type { font-weight: bold; color: #ffc107; text-transform: uppercase; }
    </style>
</head>
<body>
    <div class="header">
        <h1>arXiv Paper Dependency Graph</h1>
        <p><strong>Paper ID:</strong> 2211.11689 | <strong>Generated:</strong> 2025-07-17 22:36:32</p>
        <div class="stats">
            <div class="stat"><strong>8</strong> artifacts</div>
            <div class="stat"><strong>2</strong> references</div>
        </div>
    </div>
    <div class="graph-container">
        <div class="controls">
            <button id="play-pause">‚è∏Ô∏è Pause</button>
            <button id="reset">üîÑ Reset</button>
            <button id="center">üéØ Center View</button>
            <div class="legend" id="legend-container"></div>
        </div>
        <svg id="graph"></svg>
    </div>
    <div class="tooltip" id="tooltip" style="display: none;"></div>
    <script>
        const graphData = {
  "nodes": [
    {
      "id": "definition-1-b1234b0e",
      "type": "definition",
      "content": "[Union closed set system]\nA set system $\\F$ is \\emph{union closed} if for all $A,B \\in \\F$ we have $A \\cup B \\in \\F$.",
      "content_preview": "[Union closed set system] A set system is if for all A,B we have A B .",
      "display_name": "Definition",
      "label": null,
      "position": {
        "line_start": 45,
        "line_end": 47
      },
      "references": [],
      "proof": null
    },
    {
      "id": "definition-2-d5f3fcf9",
      "type": "definition",
      "content": "[Approximate union closed set system]\nLet $0 \\le c \\le 1$.\nA set system $\\F$ is $c$-approximate union closed if for at least a $c$-fraction of the pairs $A,B \\in \\F$ we have $A \\cup B \\in \\F$.",
      "content_preview": "[Approximate union closed set system] Let 0 c 1. A set system is c-approximate union closed if for at least a c-fraction of the pairs A,B we have A B...",
      "display_name": "Definition",
      "label": null,
      "position": {
        "line_start": 51,
        "line_end": 54
      },
      "references": [],
      "proof": null
    },
    {
      "id": "theorem-3-f8355001",
      "type": "theorem",
      "content": "\\label{thm:main}\nLet $\\F$ be a $(1-\\eps)$-approximate union closed set system, where $\\eps < 1/2$. Then there is an element which is contained in a $\\psi-\\delta$ fraction of sets in $\\F$, where $\\delta=2 \\eps \\left( 1 + \\frac{\\log(1/\\eps)}{\\log |\\F|} \\right)$.",
      "content_preview": "Let be a (1-)-approximate union closed set system, where < 1/2. Then there is an element which is contained in a - fraction of sets in , where =2 ( 1...",
      "display_name": "Theorem",
      "label": "thm:main",
      "position": {
        "line_start": 58,
        "line_end": 61
      },
      "references": [],
      "proof": null
    },
    {
      "id": "example-4-0fc870c5",
      "type": "example",
      "content": "Let $n$ be large enough, and define the following set systems over $[n]$:\n$$\n\\F_1 = \\{x \\in \\{0,1\\}^n: |x|=\\psi n + n^{2/3}\\}, \\qquad\n\\F_2 = \\{x \\in \\{0,1\\}^n: |x| \\ge (1-\\psi) n\\}, \\qquad\n\\F=\\F_1 \\cup \\F_2.\n$$\nOne can verify that: (i) $\\F$ is $1-o(1)$ approximate union closed (using the fact that $1-\\psi = 2\\psi-\\psi^2$); (ii) that $|\\F_2| = o( |\\F_1|)$; and (iii) that hence each element $i \\in [n]$ is in at most $\\psi+o(1)$ fraction of sets in $\\F$.",
      "content_preview": "Let n be large enough, and define the following set systems over [n]: _1 = x 0,1^n: |x|= n + n^2/3, _2 = x 0,1^n: |x| (1-) n, =_1 _2.",
      "display_name": "Example",
      "label": null,
      "position": {
        "line_start": 65,
        "line_end": 73
      },
      "references": [],
      "proof": null
    },
    {
      "id": "claim-5-c6070695",
      "type": "claim",
      "content": "\\label{h_frac_min}\nThe minimum of $\\frac{h(x^2)}{x h(x)}$ for $x \\in [0,1]$ is obtained at $x=\\varphi$.",
      "content_preview": "The minimum of for x [0,1] is obtained at x=.",
      "display_name": "Claim",
      "label": "h_frac_min",
      "position": {
        "line_start": 83,
        "line_end": 86
      },
      "references": [],
      "proof": null
    },
    {
      "id": "claim-6-dbac396b",
      "type": "claim",
      "content": "\\label{f_min}\nThe function $f$ is minimized at $(\\varphi,\\varphi)$. At this point $f(\\varphi,\\varphi)=\\frac{1}{2 \\varphi}$.",
      "content_preview": "The function f is minimized at (,). At this point f(,)=.",
      "display_name": "Claim",
      "label": "f_min",
      "position": {
        "line_start": 96,
        "line_end": 99
      },
      "references": [
        {
          "target_id": "h_frac_min",
          "reference_type": "internal",
          "context": "y$, we have\n$$\nf(x,x) = \\frac{h(x^2)}{2xh(x)}.\n$$\n\\Cref{h_frac_min} gives that $f(x,x)$ is minimized at $x=\\varphi$.",
          "position": {
            "line_start": 0,
            "line_end": null
          }
        }
      ],
      "proof": "First, by routine calculations one can verify that $f$ is indeed continuous on $[0,1]^2$ and that $f(x,y)<1$ for $(x,y) \\in (0,1)^2$. Thus, the minimum of $f$ is attained in $(0,1)^2$. Next, let $g(x)=\\frac{h(x)}{x}$, which is defined on $(0,1)$, and note that\n$$\nf(x,y) = \\frac{g(xy)}{g(x)+g(y)}.\n$$\n\nWe first show that $f$ is minimized on the diagonal, namely at some point $(x,x)$. Assume that $f$ is minimized at some point $(x^*,y^*)$, and let $\\alpha = f(x^*,y^*)$. Define \n$$\nF(x,y) = g(xy) - \\alpha (g(x)+g(y)).\n$$\nThen $F(x,y) \\ge 0$ for all $x,y \\in (0,1)^2$ and $F(x^*, y^*)=0$. \nThus the partial derivatives of $F$ must be zero at the minimum point:\n$$\n\\frac{\\partial F}{\\partial x}(x^*,y^*)=\\frac{\\partial F}{\\partial y}(x^*,y^*)=0.\n$$\nEvaluating the derivatives gives\n$$\n\\frac{\\partial F}{\\partial x}(x,y) = g'(xy) \\cdot y - \\alpha g'(x), \\qquad\n\\frac{\\partial F}{\\partial y}(x,y) = g'(xy) \\cdot x - \\alpha g'(y).\n$$\nDefine $G(x)=x g'(x)$ and note that we obtained that $G(x^*)=G(y^*)$. A direct calculation gives $g'(x) = \\frac{\\log(1-x)}{x^2}$, which implies that $G$ is monotonically decreasing, and so we must have $x^*=y^*$.\n\nFinally, restricting to $x=y$, we have\n$$\nf(x,x) = \\frac{h(x^2)}{2xh(x)}.\n$$\n\\Cref{h_frac_min} gives that $f(x,x)$ is minimized at $x=\\varphi$. Since $\\varphi^2 = 1- \\varphi$ we have $h(\\varphi^2)=h(\\varphi)$ and hence\n$$\nf(\\varphi, \\varphi)=\\frac{1}{2 \\varphi}.\n$$"
    },
    {
      "id": "corollary-7-0a96e995",
      "type": "corollary",
      "content": "\\label{h_analytic}\nFor $x,y \\in [0,1]$ we have\n$$\nh(xy) \\ge \\frac{1}{2 \\varphi} \\Big(x h(y) + y h(x) \\Big).\n$$",
      "content_preview": "For x,y [0,1] we have h(xy) (x h(y) + y h(x) ).",
      "display_name": "Corollary",
      "label": "h_analytic",
      "position": {
        "line_start": 133,
        "line_end": 139
      },
      "references": [],
      "proof": null
    },
    {
      "id": "claim-8-77f7f267",
      "type": "claim",
      "content": "\\label{h_union}\nLet $A,B$ be two independent random variables taking values in $\\{0,1\\}^n$. Assume for all $i \\in [n]$ that $\\Pr[A_i=0] \\ge p$ and $\\Pr[B_i=0] \\ge p$. Then \n$$\nH(A \\cup B) \\ge \\frac{p}{2 \\varphi}\\Big( H(A)+H(B)\\Big).\n$$",
      "content_preview": "Let A,B be two independent random variables taking values in 0,1^n. Assume for all i [n] that p and p. Then H(A B) ( H(A)+H(B)).",
      "display_name": "Claim",
      "label": "h_union",
      "position": {
        "line_start": 143,
        "line_end": 149
      },
      "references": [
        {
          "target_id": "h_analytic",
          "reference_type": "internal",
          "context": "}=x]$ and $q(y) = \\Pr[B_i=0 | B_{<i}=y]$. Then by \\Cref{h_analytic}\n$$\nH\\Big(A_i \\cup B_i | A_{<i}=x, B_{<i}=y\\Big) =",
          "position": {
            "line_start": 0,
            "line_end": null
          }
        }
      ],
      "proof": "The chain rule and data processing inequality yield\n$$\nH(A \\cup B) = \\sum_{i \\in [n]} H(A_i \\cup B_i | (A \\cup B)_{<i}) \\ge \\sum_{i \\in [n]} H(A_i \\cup B_i | A_{<i}, B_{<i}).\n$$\nLet $p(x) = \\Pr[A_i=0 | A_{<i}=x]$ and $q(y) = \\Pr[B_i=0 | B_{<i}=y]$. Then by \\Cref{h_analytic}\n$$\nH\\Big(A_i \\cup B_i | A_{<i}=x, B_{<i}=y\\Big) = h\\Big(p(x) q(y)\\Big) \\ge \\frac{1}{2 \\varphi} \\Big( p(x) h(q(y)) + q(y) h(p(x)) \\Big).\n$$\nAveraging over $A_{<i}, B_{<i}$ which are independent gives\n\\begin{align*}\nH(A_i \\cup B_i | A_{<i}, B_{<i}) \n&\\ge \\frac{1}{2 \\varphi} \\Big( \\E_{A_{<i}} [ p(A_{<i})] \\cdot \\E_{B_{<i}}[h(q(B_{<i}))] +    \\E_{B_{<i}} [q(B_{<i})] \\cdot \\E_{A_{<i}}[h(p(A_{<i}))]\\Big)\\\\\n&=\\frac{1}{2 \\varphi} \\Big( \\Pr[A_i=0] \\cdot H(B_i|B_{<i}) + \\Pr[B_i=0] \\cdot H(A_i|A_{<i})\\Big).\n\\end{align*}\nUsing the assumption that $\\Pr[A_i=0] \\ge p$ and $\\Pr[B_i=0] \\ge p$ gives\n$$\nH(A_i \\cup B_i) \\ge \\frac{p}{2 \\varphi} \\Big( H(A_i|A_{<i}) + H(B_i|B_{<i})\\Big).\n$$\nThe claim follows by summing over $i \\in [n]$."
    }
  ],
  "edges": [
    {
      "source": "claim-6-dbac396b",
      "target": "claim-5-c6070695",
      "type": null
    },
    {
      "source": "claim-8-77f7f267",
      "target": "corollary-7-0a96e995",
      "type": null
    }
  ]
};
        const nodeTypes = [...new Set(graphData.nodes.map(d => d.type))];
        const colorScale = d3.scaleOrdinal(d3.schemeCategory10);
        const nodeColors = nodeTypes.reduce((acc, type) => {
            acc[type] = colorScale(type);
            return acc;
        }, {});

        const svg = d3.select("#graph");
        const width = svg.node().getBoundingClientRect().width;
        const height = svg.node().getBoundingClientRect().height;

        svg.append("defs").append("marker")
            .attr("id", "arrowhead").attr("viewBox", "-0 -5 10 10").attr("refX", 25)
            .attr("refY", 0).attr("orient", "auto").attr("markerWidth", 8).attr("markerHeight", 8)
            .append("path").attr("d", "M0,-5L10,0L0,5").attr("fill", "#999");
        
        const zoom = d3.zoom().scaleExtent([0.1, 5]).on("zoom", (event) => g.attr("transform", event.transform));
        svg.call(zoom);
        const g = svg.append("g");

        const simulation = d3.forceSimulation(graphData.nodes)
            .force("link", d3.forceLink(graphData.edges).id(d => d.id).distance(120))
            .force("charge", d3.forceManyBody().strength(-500))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("collision", d3.forceCollide().radius(30));

        // Create links
        const link = g.append("g").attr("class", "links").selectAll("line")
            .data(graphData.edges).enter().append("line").attr("class", "link");

        // Create nodes
        const node = g.append("g").attr("class", "nodes").selectAll("circle")
            .data(graphData.nodes).enter().append("circle").attr("class", "node")
            .attr("r", 15).attr("fill", d => nodeColors[d.type] || '#ccc')
            .call(d3.drag().on("start", dragstarted).on("drag", dragged).on("end", dragended));

        // Create labels
        const label = g.append("g").attr("class", "labels").selectAll("text")
            .data(graphData.nodes).enter().append("text").attr("class", "node-label")
            .attr("dy", 28).text(d => d.display_name);
        
        // Tooltip element
        const tooltip = d3.select("#tooltip");

        // --- Event Listeners for Tooltips ---
        
        // Tooltip for NODES (artifacts)
        node.on("mouseover", (event, d) => {
            tooltip.style("display", "block")
                .html(`<h4>${d.display_name}</h4>
                       <p><span class="id-label">ID: ${d.id}</span></p>
                       <p><strong>Line:</strong> ${d.position.line_start} - ${d.position.line_end || d.position.line_start}</p>
                       <p><strong>Preview:</strong> ${d.content_preview}</p>`)
                .style("left", (event.pageX + 15) + "px")
                .style("top", (event.pageY - 28) + "px");
        }).on("mouseout", () => {
            tooltip.style("display", "none");
        });

        // Tooltip for LINKS (dependencies)
        link.on("mouseover", (event, d) => {
            tooltip.style("display", "block")
                .html(`<h4>Dependency Link</h4>
                       <p>${d.source.display_name} <br>
                          <span class="edge-type">‚Üí ${d.type || 'DEPENDS ON'} ‚Üí</span> <br>
                          ${d.target.display_name}</p>
                       <p><strong>Justification:</strong> ${d.dependency || 'N/A'}</p>`)
                .style("left", (event.pageX + 15) + "px")
                .style("top", (event.pageY - 28) + "px");
        }).on("mouseout", () => {
            tooltip.style("display", "none");
        });

        // --- Simulation Ticker ---
        simulation.on("tick", () => {
            link.attr("x1", d => d.source.x).attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x).attr("y2", d => d.target.y);
            node.attr("cx", d => d.x).attr("cy", d => d.y);
            label.attr("x", d => d.x).attr("y", d => d.y);
        });
        
        // --- Controls & Legend ---
        const legendContainer = d3.select("#legend-container");
        nodeTypes.forEach(type => {
            const item = legendContainer.append("div").attr("class", "legend-item");
            item.append("div").attr("class", "legend-color").style("background-color", nodeColors[type]);
            item.append("span").text(type.charAt(0).toUpperCase() + type.slice(1));
        });

        let isPlaying = true;
        d3.select("#play-pause").on("click", () => {
            isPlaying ? simulation.stop() : simulation.restart();
            d3.select("#play-pause").text(isPlaying ? "‚ñ∂Ô∏è Play" : "‚è∏Ô∏è Pause");
            isPlaying = !isPlaying;
        });
        d3.select("#reset").on("click", () => {
            simulation.alpha(1).restart();
            if (!isPlaying) d3.select("#play-pause").dispatch('click');
        });
        d3.select("#center").on("click", () => svg.transition().duration(750).call(zoom.transform, d3.zoomIdentity));
        
        // --- Drag Functions ---
        function dragstarted(event, d) { if (!event.active) simulation.alphaTarget(0.3).restart(); d.fx = d.x; d.fy = d.y; }
        function dragged(event, d) { d.fx = event.x; d.fy = event.y; }
        function dragended(event, d) { if (!event.active) simulation.alphaTarget(0); d.fx = null; d.fy = null; }
    </script>
</body>
</html>
